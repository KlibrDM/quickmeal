"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2835],{2835:(A,m,a)=>{a.r(m),a.d(m,{MealPageModule:()=>w});var g=a(4755),u=a(5030),l=a(9972),s=a(2443),d=a(5861),e=a(3020),p=a(2468),f=a(5097),v=a(452),h=a(5955),M=a(8612);function _(i,o){if(1&i&&e._UZ(0,"img",18),2&i){const t=e.oxw(2);e.Q6J("src",t.meal.image,e.LSH)("alt",t.meal.name)}}function x(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ion-icon",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.favoriteClicked())}),e.qZA()}}function Z(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ion-icon",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.favoriteClicked())}),e.qZA()}}function P(i,o){if(1&i&&(e.TgZ(0,"ion-col",23),e._UZ(1,"img",24),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src","https://www.themealdb.com/images/ingredients/"+t.name+"-Small.png",e.LSH)("alt",t.name)}}function T(i,o){if(1&i&&(e.TgZ(0,"ion-row",21),e.YNc(1,P,2,2,"ion-col",22),e.TgZ(2,"ion-col"),e._uU(3),e.qZA(),e.TgZ(4,"ion-col"),e._uU(5),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(null!=n.settings&&n.settings.limitedBandwidth)),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.measure)}}function y(i,o){if(1&i&&(e.TgZ(0,"div",6)(1,"div",7),e.YNc(2,_,1,2,"img",8),e.TgZ(3,"div")(4,"div",9)(5,"h3"),e._uU(6),e.qZA(),e.YNc(7,x,1,0,"ion-icon",10),e.YNc(8,Z,1,0,"ion-icon",11),e.qZA(),e.TgZ(9,"div")(10,"ion-chip",12),e._uU(11),e.qZA(),e.TgZ(12,"ion-chip",13),e._uU(13),e.qZA()(),e.TgZ(14,"p",14),e._uU(15),e.qZA()()(),e.TgZ(16,"h4"),e._uU(17,"Ingredients"),e.qZA(),e.TgZ(18,"ion-grid",15),e.YNc(19,T,6,3,"ion-row",16),e.qZA(),e.TgZ(20,"div")(21,"a",17)(22,"ion-button"),e._uU(23,"Recipe source"),e.qZA()()(),e.TgZ(24,"div")(25,"a",17)(26,"ion-button"),e._uU(27,"Watch on YouTube"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!(null!=t.settings&&t.settings.limitedBandwidth)),e.xp6(4),e.Oqu(t.meal.name),e.xp6(1),e.Q6J("ngIf",!t.isFavorite),e.xp6(1),e.Q6J("ngIf",t.isFavorite),e.xp6(2),e.Q6J("outline",!0),e.xp6(1),e.Oqu(t.meal.category),e.xp6(1),e.Q6J("outline",!0),e.xp6(1),e.Oqu(t.meal.area),e.xp6(2),e.Oqu(t.meal.instructions),e.xp6(4),e.Q6J("ngForOf",t.meal.ingredients),e.xp6(2),e.Q6J("href",t.meal.source,e.LSH),e.xp6(4),e.Q6J("href",t.meal.youtube,e.LSH)}}const F=[{path:"",component:(()=>{class i{constructor(t,n,r,c,I,J){this.dataService=t,this.favoritesService=n,this.router=r,this.route=c,this.settingsService=I,this.toastController=J,this.isFavorite=!1,this.favoriteDisabled=!1,this.generalError=!1,this.internetError=!1}ngOnInit(){this.getSettings(),this.route.queryParams.subscribe(t=>{var n;const r=null===(n=this.router.getCurrentNavigation())||void 0===n?void 0:n.extras.state;if(null!=r&&r.meal)this.meal=null==r?void 0:r.meal,this.checkIfFavorite(this.meal.id);else{const c=this.route.snapshot.paramMap.get("id");c&&this.getMeal(c)}})}getSettings(){this.settingsService.settings.subscribe({next:t=>{this.settings=t}})}getMeal(t){this.dataService.getMealById(t).subscribe({next:n=>{this.meal=n[0],this.checkIfFavorite(this.meal.id),this.generalError=!1,this.internetError=!1},error:n=>{this.meal=void 0,0===n.status?this.internetError=!0:this.generalError=!0}})}checkIfFavorite(t){this.favoritesService.isFavorite(t).then(n=>{this.isFavorite=n})}favoriteClicked(){var t=this;return(0,d.Z)(function*(){t.favoriteDisabled||(t.favoriteDisabled=!0,t.isFavorite?(t.favoritesService.removeFavorite(t.meal),yield(yield t.toastController.create({message:`${t.meal.name} removed from favorites!`,duration:3e3,position:"top"})).present()):(t.favoritesService.addFavorite(t.meal),yield(yield t.toastController.create({message:`${t.meal.name} added to favorites!`,duration:3e3,position:"top"})).present()),t.isFavorite=!t.isFavorite,setTimeout(()=>{t.favoriteDisabled=!1},1500))})()}retry(){const t=this.route.snapshot.paramMap.get("id");t&&this.getMeal(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.D),e.Y36(f.G),e.Y36(s.F0),e.Y36(s.gz),e.Y36(v.g),e.Y36(l.yF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-meal"]],decls:11,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","ion-padding",4,"ngIf"],[3,"generalError","internetError","allowRetry","retry"],[1,"ion-padding"],[1,"image-title-row"],["appImgFallback","","class","meal-image",3,"src","alt",4,"ngIf"],[1,"meal-name"],["class","pointer","name","star-outline",3,"click",4,"ngIf"],["class","pointer","name","star",3,"click",4,"ngIf"],[1,"ion-no-margin",3,"outline"],[3,"outline"],[1,"instructions"],[1,"ingredients-table"],["class","ion-align-items-center",4,"ngFor","ngForOf"],[3,"href"],["appImgFallback","",1,"meal-image",3,"src","alt"],["name","star-outline",1,"pointer",3,"click"],["name","star",1,"pointer",3,"click"],[1,"ion-align-items-center"],["size","2",4,"ngIf"],["size","2"],["appImgFallback","",1,"ingredient-image",3,"src","alt"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8),e.qZA()()(),e.YNc(9,y,28,12,"div",4),e.TgZ(10,"app-error-card",5),e.NdJ("retry",function(){return n.retry()}),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(3),e.Oqu(n.meal?n.meal.name:"Meal"),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Oqu(n.meal?n.meal.name:"Meal"),e.xp6(1),e.Q6J("ngIf",n.meal&&!(n.generalError||n.internetError)),e.xp6(1),e.Q6J("generalError",n.generalError)("internetError",n.internetError)("allowRetry",!0))},dependencies:[g.sg,g.O5,l.YG,l.hM,l.wI,l.W2,l.jY,l.Gu,l.gu,l.Nd,l.wd,l.sr,h.V,M.Z],styles:[".meal-image[_ngcontent-%COMP%]{width:100%;border-radius:8px}.meal-name[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.meal-name[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{margin-top:16px;font-size:1.5em;flex-shrink:0}.meal-name[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:hover{color:#5b5b5b}.instructions[_ngcontent-%COMP%]{white-space:pre-wrap}.ingredients-table[_ngcontent-%COMP%]{max-width:800px;margin-inline:0}.image-title-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}@media screen and (min-width: 768px){.meal-image[_ngcontent-%COMP%]{max-width:clamp(240px,40vw,480px)}.meal-name[_ngcontent-%COMP%]{justify-content:flex-start}.image-title-row[_ngcontent-%COMP%]{flex-direction:row;gap:16px}}"]}),i})()}];let C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.Bz.forChild(F),s.Bz]}),i})();var O=a(4466);let w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,u.u5,l.Pc,C,O.m]}),i})()}}]);